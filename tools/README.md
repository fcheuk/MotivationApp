# Motivation 主题和壁纸管理工具

这是一个可视化的 Python 工具，用于管理 Motivation App 的主题分类和壁纸数据。

## 功能特性

- ✅ 可视化界面管理主题分类
- ✅ 可视化界面管理壁纸
- ✅ 支持颜色选择器
- ✅ 自动生成 Swift 代码
- ✅ 数据持久化存储

## 安装依赖

这个工具使用 Python 的 tkinter 库，通常 Python 自带。如果没有，请安装：

```bash
# Windows
# tkinter 通常已包含在 Python 安装中

# macOS
brew install python-tk

# Linux
sudo apt-get install python3-tk
```

## 使用方法

### 1. 启动工具

在项目根目录运行：

```bash
python tools/theme_manager.py
```

或者直接双击 `theme_manager.py` 文件。

### 2. 管理主题分类

**新增主题：**
1. 点击左侧的 "➕ 新增主题" 按钮
2. 填写主题信息：
   - **名称**：主题的显示名称（如"动力"）
   - **图标**：SF Symbol 图标名称（如"flame.fill"）
   - **颜色**：主题颜色的十六进制值（可使用颜色选择器）
   - **描述**：主题的简短描述
   - **图片名称**：关联的背景图片文件名（不含扩展名）
   - **类型**：选择 normal（普通）、combined（组合）或 seasonal（季节）
   - **新主题**：勾选表示这是新主题
   - **推荐主题**：勾选表示在推荐区域显示
   - **标签**：用逗号分隔的标签列表（如"推荐, 新"）
3. 点击 "确定" 保存

**编辑主题：**
1. 在列表中选择要编辑的主题
2. 点击 "✏️ 编辑主题" 按钮
3. 修改信息后点击 "确定"

**删除主题：**
1. 在列表中选择要删除的主题
2. 点击 "🗑️ 删除主题" 按钮
3. 确认删除

### 3. 管理壁纸

**新增壁纸：**
1. 点击右侧的 "➕ 新增壁纸" 按钮
2. 填写壁纸信息：
   - **名称**：壁纸的显示名称
   - **关联主题**：选择关联的主题分类
   - **图片文件名**：壁纸图片的文件名（可点击"浏览"选择文件）
   - **需要解锁**：勾选表示需要订阅才能使用
3. 点击 "确定" 保存

**编辑和删除壁纸：**
操作方式与主题分类相同。

### 4. 保存和导出

**保存数据：**
- 点击底部的 "💾 保存数据" 按钮
- 数据会保存到 `tools/theme_data.json` 文件

**导出 Swift 代码：**
1. 点击 "📤 导出 Swift 代码" 按钮
2. 选择保存位置
3. 生成的 Swift 文件包含所有主题和壁纸的示例数据
4. 将生成的代码复制到对应的 Swift 文件中

**打开项目目录：**
- 点击 "📁 打开项目目录" 快速访问项目文件夹

## 数据文件

- **theme_data.json**：存储所有主题和壁纸数据的 JSON 文件
- 位置：`tools/theme_data.json`

## 工作流程

1. 使用工具添加/编辑主题和壁纸
2. 点击 "保存数据" 保存到 JSON 文件
3. 点击 "导出 Swift 代码" 生成 Swift 代码
4. 将生成的代码复制到以下文件：
   - 主题分类：`MotivationApp/Models/Category.swift`
   - 壁纸：`MotivationApp/Models/ThemeWallpaper.swift`（如果有）
5. 将图片文件添加到 Xcode 项目的 Assets.xcassets 中

## 注意事项

- 图片文件名不需要包含扩展名（.jpg、.png 等）
- SF Symbol 图标名称可以在 [SF Symbols App](https://developer.apple.com/sf-symbols/) 中查找
- 颜色使用十六进制格式，如 `#FF6B6B`
- 标签用逗号分隔，会自动去除空格

## 示例数据

工具会自动加载现有的 `theme_data.json` 文件。如果文件不存在，会创建一个新的空数据文件。

## 故障排除

**问题：无法启动工具**
- 确保已安装 Python 3.x
- 确保 tkinter 已安装

**问题：无法保存数据**
- 检查 `tools` 目录是否有写入权限
- 确保文件路径正确

**问题：导出的 Swift 代码格式不正确**
- 检查输入的数据是否完整
- 确保特殊字符已正确转义

## 技术支持

如有问题，请检查：
1. Python 版本是否为 3.x
2. tkinter 是否正确安装
3. 文件权限是否正确
